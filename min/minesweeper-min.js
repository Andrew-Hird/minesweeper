function startGame(){for(var e=0;board.cells[e];e++)board.cells[e].surroundingMines=countSurroundingMines(board.cells[e]);lib.initBoard(),document.addEventListener("click",checkForWin),document.addEventListener("contextmenu",checkForWin)}function checkForWin(){for(var e=0;e<board.cells.length;e++){if(!board.cells[e].isMine&&board.cells[e].hidden)return;if(!board.cells[e].isMarked&&board.cells[e].hidden)return}lib.displayMessage("You win!")}function countSurroundingMines(e){for(var n=lib.getSurroundingCells(e.row,e.col),i=0,o=0;o<n.length;o++)n[o].isMine===!0&&(i+=1);return i}document.addEventListener("DOMContentLoaded",startGame);var board={cells:[{row:0,col:0,isMine:!0,hidden:!0},{row:0,col:1,isMine:!1,hidden:!0},{row:0,col:2,isMine:!0,hidden:!0},{row:1,col:0,isMine:!1,hidden:!0},{row:1,col:1,isMine:!1,hidden:!0},{row:1,col:2,isMine:!1,hidden:!0},{row:2,col:0,isMine:!0,hidden:!0},{row:2,col:1,isMine:!1,hidden:!0},{row:2,col:2,isMine:!1,hidden:!0}]};